title: Home

decluttering_templates: !include_dir_merge_named decluttering_templates/

button_card_templates: !include_dir_merge_named button_card_templates/

animated_background:
  default_url: "https://cdn.flixel.com/flixel/ypy8bw9fgw1zv2b4htp2.hd.mp4"
  included_users: null
  entity: "weather.home"
  state_url:
    sunny:
      - "https://cdn.flixel.com/flixel/hlhff0h8md4ev0kju5be.hd.mp4"
      - "https://cdn.flixel.com/flixel/zjqsoc6ecqhntpl5vacs.hd.mp4"
      - "https://cdn.flixel.com/flixel/jvw1avupguhfbo11betq.hd.mp4"
      - "https://cdn.flixel.com/flixel/8cmeusxf3pkanai43djs.hd.mp4"
      - "https://cdn.flixel.com/flixel/guwb10mfddctfvwioaex.hd.mp4"

    partlycloudy:
      - "https://cdn.flixel.com/flixel/13e0s6coh6ayapvdyqnv.hd.mp4"
      - "https://cdn.flixel.com/flixel/aorl3skmssy7udwopk22.hd.mp4"
      - "https://cdn.flixel.com/flixel/qed6wvf2igukiioykg3r.hd.mp4"
      - "https://cdn.flixel.com/flixel/3rd72eezaj6d23ahlo7y.hd.mp4"
      - "https://cdn.flixel.com/flixel/9m11gd43m6qn3y93ntzp.hd.mp4"
      - "https://cdn.flixel.com/flixel/hrkw2m8eofib9sk7t1v2.hd.mp4"

    cloudy:
      - "https://cdn.flixel.com/flixel/13e0s6coh6ayapvdyqnv.hd.mp4"
      - "https://cdn.flixel.com/flixel/aorl3skmssy7udwopk22.hd.mp4"
      - "https://cdn.flixel.com/flixel/qed6wvf2igukiioykg3r.hd.mp4"
      - "https://cdn.flixel.com/flixel/3rd72eezaj6d23ahlo7y.hd.mp4"
      - "https://cdn.flixel.com/flixel/9m11gd43m6qn3y93ntzp.hd.mp4"
      - "https://cdn.flixel.com/flixel/hrkw2m8eofib9sk7t1v2.hd.mp4"

    mostlycloudy:
      - "https://cdn.flixel.com/flixel/e95h5cqyvhnrk4ytqt4q.hd.mp4"
      - "https://cdn.flixel.com/flixel/l2bjw34wnusyf5q2qq3p.hd.mp4"
      - "https://cdn.flixel.com/flixel/rrgta099ulami3zb9fd2.hd.mp4"

    clear-night:
      - "https://cdn.flixel.com/flixel/x9dr8caygivq5secll7i.hd.mp4"
      - "https://cdn.flixel.com/flixel/v26zyfd6yf0r33s46vpe.hd.mp4"
      - "https://cdn.flixel.com/flixel/ypy8bw9fgw1zv2b4htp2.hd.mp4"
      - "https://cdn.flixel.com/flixel/rosz2gi676xhkiw1ut6i.hd.mp4"

    fog:
      - "https://cdn.flixel.com/flixel/vwqzlk4turo2449be9uf.hd.mp4"
      - "https://cdn.flixel.com/flixel/5363uhabodwwrzgnq6vx.hd.mp4"

    rainy: "https://cdn.flixel.com/flixel/f0w23bd0enxur5ff0bxz.hd.mp4"

views:
  - !include views/view_home.yaml
  - title: Home
    path: home
    icon: mdi:home
    layout:
      width: 300
      max_cols: 10
    badges: []
    cards:
      - type: custom:swipe-card
        start_card: 2
        reset_after: 30
        parameters:
          spaceBetween: 8
          autoHeight: true
          effect: coverflow
          grabCursor: true
          centeredSlides: true
          slidesPerView: auto
          coverflowEffect:
            rotate: 50
            stretch: 0
            depth: 100
            modifier: 1
            slideShadows: true
        cards:
          - type: custom:stack-in-card
            style: |
              ha-card {
                border-radius: 0;
                margin-top: calc(var(--vertical-margin) * -1);
                margin-left: calc(var(--horizontal-margin) * -3);
                margin-right: calc(var(--horizontal-margin) * -3);
                background: var(--sidebar-background-color);
                color: var(--accent-color);
                padding-top: 1rem;
                --primary-text-color: var(--light-primary-color);
                --secondary-text-color: var(--light-primary-color);
                --ha-card-box-shadow: none;
                --ha-card-background: none;
                --masonry-view-card-margin: 0rem calc(var(--horizontal-margin) * 2);
              }
            cards:
              - type: custom:layout-card
                layout_type: custom:grid-layout
                layout:
                  grid-template-columns: 2fr 1fr
                cards:
                  - type: weather-forecast
                    entity: weather.home
                    style: |
                      ha-card {
                        --primary-text-color: var(--light-primary-color);
                        --secondary-text-color: var(--light-primary-color);
                      }
                    view_layout:
                      grid-column: 1 / -1
          - type: horizontal-stack
            cards:
              - type: markdown
                content: |-
                  <h3>{{states('sensor.dashboard_greeting') }}, {{ user}}</h3>
                    <strong>Temperature:</strong>
                    {{state_attr('weather.home','temperature') | int(0) | round(0)}}&deg;F</br>
                    <strong>Humidity:</strong> {{state_attr('weather.home','humidity') }}%<br />
                    <br /><strong>Air Quality</strong>: {{ states('sensor.aqi') }}
              - type: vertical-stack
                cards:
                  - type: custom:state-switch
                    entity: user
                    default: default
                    states:
                      Richard:
                        type: grid
                        cards:
                          - type: custom:state-switch
                            entity: sun.sun
                            default: default
                            states:
                              default:
                                type: button
                                icon: mdi:bed
                                tap_action:
                                  action: call-service
                                  service: script.person2_worktime
                                  service_data: {}
                                  target: {}
                              below_horizon:
                                type: button
                                icon: mdi:car
                                tap_action:
                                  action: call-service
                                  service: script.person1_bedtime
                                  service_data: {}
                                  target: {}
                          - type: button
                            tap_action:
                              action: call-service
                              service: browser_mod.popup
                              service_data:
                                title: Lights1
                                card:
                                  type: custom:decluttering-card
                                  template: popup_lights
                                  variables:
                                    - name: Test Button
                                    - icon: arrow-up
                              title: Upstairs
                              deviceID:
                                - this
                              target: {}
                            name: Lights
                            icon: mdi:lightbulb
                        columns: 2
                      Stefanie:
                        type: grid
                        cards:
                          - type: button
                            tap_action:
                              action: toggle
                            entity: light.unit1_kitchen_ceiling_light
                          - type: button
                            tap_action:
                              action: call-service
                              service: scene.turn_on
                              service_data: {}
                              target:
                                entity_id: scene.downstairs_cooking
                            name: Cooking
                            icon: mdi:chef-hat
                        columns: 2
                      Jenn:
                        type: grid
                        cards:
                          - type: button
                            tap_action:
                              action: call-service
                              service: script.turn_off_upstairs_lights
                              service_data: {}
                              target: {}
                            name: bedtime
                            icon: mdi:sleep
                          - type: button
                            icon: mdi:lightbulb
                            tap_action:
                              action: call-service
                              service: browser_mod.popup
                              service_data:
                                title: Lights
                                card:
                                  type: entities
                                  show_header_toggle: true
                                  entities:
                                    - type: section
                                      label: Downstairs
                                    - type: custom:fold-entity-row
                                      head:
                                        type: custom:multiple-entity-row
                                        name: Frontroom
                                        state_color: true
                                        toggle: true
                                        entity: light.loft_lights
                                        secondary_info:
                                          entity: >-
                                            sensor.multisensor_bedroom1_air_temperature
                                          name: T
                                      entities:
                                        - sensor.monitor_awair_score
                                        - switch.switches_mudroom
                                        - light.outside
                                        - light.unit1_livingroom_lamp
                                        - light.livingroom_worklight_4
                                        - light.frontroom_ceiling
                                        - light.livingroom_lamp
                                    - type: custom:fold-entity-row
                                      head:
                                        type: custom:multiple-entity-row
                                        name: Bedroom
                                        state_color: true
                                        toggle: true
                                        entity: light.unit1_bedroom_lights
                                        secondary_info:
                                          entity: >-
                                            sensor.multisensor_bedroom1_air_temperature
                                          name: T
                                      entities:
                                        - light.bedroom1
                                        - light.person1_nightlight
                                        - light.person2_nightlight
                                        - light.bedroom1_nightlight
                                    - type: custom:fold-entity-row
                                      head:
                                        type: custom:multiple-entity-row
                                        name: Kitchen/Bathroom
                                        state_color: true
                                        toggle: true
                                        entity: light.unit1_kitchen_lights
                                        secondary_info:
                                          entity: >-
                                            sensor.multisensor_bedroom1_air_temperature
                                          name: T
                                      entities:
                                        - light.backroom
                                        - light.bathroom1_vanity
                                        - light.bathroom1_ceiling
                                        - switch.switches_mudroom
                                        - light.unit1_hallway_lights
                                        - light.unit1_kitchen_cabinets
                                        - light.unit1_kitchen_pendants
                                    - type: section
                                      label: Upstairs
                                    - type: custom:fold-entity-row
                                      head:
                                        type: custom:multiple-entity-row
                                        name: Bedroom
                                        state_color: true
                                        toggle: true
                                        entity: light.loft_lights
                                        secondary_info:
                                          entity: >-
                                            sensor.multisensor_bedroom1_air_temperature
                                          name: T
                                      entities:
                                        - light.loft_light
                                        - light.unit2_loft_fairy_lights_2
                                        - light.loft_lamp_1_2
                                        - light.loft_lamp_2_3
                                    - type: custom:fold-entity-row
                                      head:
                                        type: custom:multiple-entity-row
                                        name: Livingroom
                                        state_color: true
                                        toggle: true
                                        entity: light.upstairs_livingroom
                                        secondary_info:
                                          entity: >-
                                            sensor.multisensor_bedroom1_air_temperature
                                          name: T
                                      entities:
                                        - light.upstairs_sofa_lamp
                                        - light.upper_livingroom_lamp
                                    - type: custom:fold-entity-row
                                      head:
                                        type: custom:multiple-entity-row
                                        name: Office
                                        state_color: true
                                        toggle: true
                                        entity: light.office2_lights
                                        secondary_info:
                                          entity: >-
                                            sensor.multisensor_bedroom1_air_temperature
                                          name: T
                                      entities:
                                        - light.office2_lamp2
                                    - type: custom:fold-entity-row
                                      head:
                                        type: custom:multiple-entity-row
                                        name: Kitchen
                                        state_color: true
                                        toggle: true
                                        entity: light.upstairs_kitchen
                                        secondary_info:
                                          entity: >-
                                            sensor.multisensor_bedroom1_air_temperature
                                          name: T
                                      entities:
                                        - light.upstairs_kitchen_pendants
                                        - light.upstairs_kitchen_spotlights
                              title: Upstairs
                              target: {}
                        columns: 2
                      default:
                        type: markdown
                        content: |
                          **Welcome Guest**
                  - type: horizontal-stack
                    cards:
                      - type: custom:button-card
                        tap_action:
                          action: call-service
                          service: automation.trigger
                          service_data:
                            entity_id: automation.cat_has_been_fed
                        entity: binary_sensor.cat_needs_feeding
                        show_icon: true
                        icon: hass:cat
                        show_state: false
                        show_name: false
                        show_label: true
                        label: |
                          [[[
                            var bri = states['inary_sensor.cat_needs_feeding']
                            return (bri ? 'Hungry' : 'Satisfied');
                          ]]]
                        icon_height: 45px
                        hold_action:
                          action: none
                        custom_fields:
                          temp: |
                            [[[
                              return `<div style="padding-top: 36px;"><div style="position: absolute; bottom: 12px; right: 12px;">
                                <span style="width: 12px; height: 12px; color: grey; font-size: 10px">${states['sensor.cat_last_fed'].state} hour(s) ago</span></div></div>`
                            ]]]
                      - type: button
                        tap_action:
                          action: toggle
                        entity: lock.frontdoor
          - type: picture-glance
            aspect_ratio: "16:9"
            camera_image: camera.garden
            camera_view: live
            entities: []
            name: Garden
          - type: picture-glance
            aspect_ratio: "16:9"
            camera_image: camera.downstairs
            camera_view: live
            entities: []
            name: Garden
      - type: horizontal-stack
        cards:
          - type: button
            tap_action:
              action: call-service
              service: script.person1_bedtime
              service_data: {}
              target: {}
            icon: mdi:bed
            name: Bedtime
          - type: button
            tap_action:
              action: fire-dom-event
              browser_mod:
                command: popup
                title: Household Climate
                large: true
                hide_header: false
                card:
                  type: custom:decluttering-card
                  template: popup_environment
            name: Climate
            icon: mdi:air-filter
          - type: button
            tap_action:
              action: fire-dom-event
              browser_mod:
                command: popup
                title: Downstairs Lights
                large: true
                hide_header: false
                card:
                  type: custom:decluttering-card
                  template: popup_lights_downstairs
          - type: button
            tap_action:
              action: toggle
            entity: lock.frontdoor
      - type: horizontal-stack
        cards:
          - type: picture-elements
            image: /local/stefanie.jpg
            entity: person.stefanie
            state_filter:
              home: brightness(110%) saturate(1.2)
              not_home: brightness(75%) grayscale(90%)
            show_name: false
            elements:
              - type: conditional
                conditions:
                  - entity: binary_sensor.workday_sensor
                    state: "on"
                elements:
                  - type: state-icon
                    entity: person.stefanie
                    icon: mdi:office-building-marker-outline
                    style:
                      top: 60%
                      right: "-1%"
                      "--paper-item-icon-color": white
                      transform: scale(0.75)
                  - type: state-label
                    entity: person.stefanie
                    style:
                      top: 53%
                      right: "-1%"
                      weight: 50px
                      color: white
                      font-weight: 300
                      font-size: 10px
              - type: conditional
                conditions:
                  - entity: person.stefanie
                    state: not_home
                elements:
                  - type: state-icon
                    entity: person.stefanie
                    icon: mdi:home-import-outline
                    style:
                      top: 48%
                      right: "-1%"
                      "--paper-item-icon-color": white
                      transform: scale(0.8)
                  - type: state-label
                    entity: person.stefanie
                    style:
                      top: 60%
                      right: 0%
                      weight: 50px
                      color: white
                      font-weight: 300
                      font-size: 10px
              - type: conditional
                conditions:
                  - entity: person.stefanie
                    state: home
                elements:
                  - type: state-icon
                    entity: binary_sensor.hd1905_wifi_state
                    icon: mdi:wifi
                    style:
                      top: 24%
                      right: "-5%"
              - type: state-label
                entity: sensor.hd1905_battery_level
                style:
                  top: 11%
                  right: "-1%"
              - type: state-icon
                entity: sensor.hd1905_battery_level
                style:
                  top: 10%
                  right: "-5%"
              - type: state-label
                entity: input_select.stefanie_location
                style:
                  top: 130px
                  right: "-50px"
                  width: 200px
                  color: white
                  font-size: 12px
                  text-align: right
              - type: conditional
                conditions:
                  - entity: binary_sensor.person1_sleeping
                    state: "on"
                elements:
                  - type: state-icon
                    entity: binary_sensor.person1_sleeping
                    icon: mdi:bed-outline
                    state_color: false
                    style:
                      top: 0%
                      right: 70%
                      transform: scale(0.8)
          - type: picture-elements
            entity: input_select.richard_location
            image: /local/richard.jpg
            state_filter:
              home: brightness(110%) saturate(1.2)
              Away: brightness(75%) grayscale(90%)
            show_name: false
            elements:
              - type: conditional
                conditions:
                  - entity: binary_sensor.workday_sensor
                    state: "on"
                elements:
                  - type: state-icon
                    entity: person.richard
                    icon: mdi:office-building-marker-outline
                    style:
                      top: 60%
                      right: "-1%"
                      "--paper-item-icon-color": white
                      transform: scale(0.75)
                  - type: state-label
                    entity: person.richard
                    style:
                      top: 73%
                      right: "-1%"
                      weight: 50px
                      color: white
                      font-weight: 300
                      font-size: 10px
              - type: conditional
                conditions:
                  - entity: person.richard
                    state: not_home
                elements:
                  - type: state-icon
                    entity: person.richard
                    icon: mdi:home-import-outline
                    style:
                      top: 48%
                      right: "-1%"
                      "--paper-item-icon-color": white
                      transform: scale(0.8)
                  - type: state-label
                    entity: person.richard
                    style:
                      top: 60%
                      right: 0%
                      weight: 50px
                      color: white
                      font-weight: 300
                      font-size: 10px
              - type: conditional
                conditions:
                  - entity: person.richard
                    state: home
                elements:
                  - type: state-icon
                    entity: sensor.iphone_connection_type
                    attribute: wifi_on
                    icon: mdi:wifi
                    style:
                      top: 24%
                      right: "-5%"
              - type: state-label
                entity: sensor.iphone_battery_level
                style:
                  top: 11%
                  right: "-1%"
              - type: state-icon
                entity: sensor.iphone_battery_level
                style:
                  top: 10%
                  right: "-5%"
              - type: state-label
                entity: input_select.richard_location
                style:
                  top: 130px
                  right: "-50px"
                  width: 200px
                  color: white
                  font-size: 12px
                  text-align: right
              - type: conditional
                conditions:
                  - entity: input_boolean.person2_in_bed
                    state: "on"
                elements:
                  - type: state-icon
                    entity: input_boolean.person2_in_bed
                    icon: mdi:bed-outline
                    style:
                      top: 48%
                      right: 70%
                      "--paper-item-icon-color": yellow
                      transform: scale(0.8)
                  - type: state-label
                    entity: input_boolean.person2_in_bed
                    style:
                      top: 60%
                      right: 35%
                      weight: 50px
                      color: yellow
                      font-weight: 300
                      font-size: 10px
          - type: picture-elements
            entity: input_select.jenn_location
            image: /local/jenn.jpg
            state_filter:
              home: brightness(110%) saturate(1.2)
              Away: brightness(75%) grayscale(90%)
            show_name: false
            elements:
              - type: conditional
                conditions:
                  - entity: binary_sensor.workday_sensor
                    state: "on"
                elements:
                  - type: state-icon
                    entity: person.jenn
                    icon: mdi:office-building-marker-outline
                    style:
                      top: 10%
                      right: 0%
                      "--paper-item-icon-color": white
                      transform: scale(0.75)
                  - type: state-label
                    entity: person.jenn
                    style:
                      top: 73%
                      right: "-1%"
                      weight: 50px
                      color: white
                      font-weight: 300
                      font-size: 10px
              - type: conditional
                conditions:
                  - entity: person.jenn
                    state: not_home
                elements:
                  - type: state-icon
                    entity: person.jenn
                    icon: mdi:home-import-outline
                    style:
                      top: 48%
                      right: "-1%"
                      "--paper-item-icon-color": white
                      transform: scale(0.8)
                  - type: state-label
                    entity: input_select.jenn_location
                    style:
                      top: 60%
                      right: 0%
                      weight: 50px
                      color: white
                      font-weight: 300
                      font-size: 10px
              - type: conditional
                conditions:
                  - entity: person.jenn
                    state: home
                elements:
                  - type: state-icon
                    entity: sensor.iphone_connection_type
                    attribute: wifi_on
                    icon: mdi:wifi
                    style:
                      top: 24%
                      right: "-5%"
              - type: state-label
                entity: sensor.jennifer_rabins_iphone_battery_level
                style:
                  top: 11%
                  right: "-1%"
              - type: state-icon
                entity: sensor.jennifer_rabins_iphone_battery_level
                style:
                  top: 10%
                  right: "-5%"
              - type: state-label
                entity: input_select.jenn_location
                style:
                  top: 130px
                  right: "-50px"
                  width: 200px
                  color: white
                  font-size: 12px
                  text-align: right
              - type: conditional
                conditions:
                  - entity: input_boolean.person3_in_bed
                    state: "on"
                elements:
                  - type: state-icon
                    entity: input_boolean.person3_in_bed
                    icon: mdi:bed-outline
                    style:
                      top: 48%
                      right: 70%
                      "--paper-item-icon-color": yellow
                      transform: scale(0.8)
                  - type: state-label
                    entity: input_boolean.person3_in_bed
                    style:
                      top: 60%
                      right: 35%
                      weight: 50px
                      color: yellow
                      font-weight: 300
                      font-size: 10px
      - type: custom:auto-entities
        card:
          type: entities
          title: Presence
        filter:
          include:
            - or:
                - name: /occupancy/
                  domain: binary_sensor
                  state: "on"
                  options:
                    secondary_info: last-changed
                - domain: binary_sensor
                  state: "on"
                  attributes:
                    device_class: motion
                  options:
                    secondary_info: last-changed
        show_empty: false
      - type: horizontal-stack
        cards:
          - type: button
            tap_action:
              action: call-service
              service: browser_mod.popup
              service_data:
                title: Admin
                card:
                  type: custom:decluttering-card
                  template: popup_admin
                  variables:
                    - name: Test Button
                    - icon: arrow-up
              target: {}
            name: Admin
            icon: mdi:account-supervisor-circle-outline
            entity: light.unit1_livingroom_lamp

      - type: custom:auto-entities
        card:
          type: entities
          title: Battery warning
        filter:
          include:
            - domain: binary_sensor
              options:
                secondary_info: last-changed
              state: "on"
              attributes:
                device_class: battery
      - type: custom:auto-entities
        card:
          type: entities
          title: Alerts
        filter:
          include:
            - domain: alert
              options:
                secondary_info: last-changed
              state: "on"
  - icon: mdi:music
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:gap-card
              - type: custom:button-card
                size: 25px
                icon: |
                  [[[ 
                    if (states['media_player.multi_room_controller'].state == "playing")
                        return "mdi:cast-connected";
                    else if (states['media_player.multi_room_controller'].state == "playing")
                      return "mdi:cast-connected";
                    else if (states['media_player.multi_room_controller'].state == "playing")
                      return "mdi:cast-connected";
                    else if (states['media_player.multi_room_controller'].state == "playing")
                        return "mdi:cast-connected";
                    else if (states['media_player.multi_room_controller'].state == "playing")
                        return "mdi:cast-connected";
                    else if (states['media_player.multi_room_controller'].state == "playing")
                        return "mdi:cast-connected";
                    else
                        return "mdi:cast";
                  ]]]
                styles:
                  card:
                    - width: 40px
                    - height: 40px
                    - background-color: rgba(255,255,255,0)
                    - box-shadow: none
                  icon:
                    - margin-left: px
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    command: popup
                    title: Select where to cast
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:mini-media-player
                          group: true
                          min_volume: 5
                          max_volume: 75
                          entity: media_player.office_speaker
                          name: Office
                          tap_action:
                            action: call-service
                            service: input_boolean.toggle
                            service_data:
                              entity_id: input_boolean.office_mp
                          hide:
                            controls: true
                            icon: false
                            info: true
                            power: true
                            progress: true
                            state_label: false
                            volume_level: false
                        - type: custom:mini-media-player
                          name: Kitchen
                          group: true
                          min_volume: 5
                          max_volume: 75
                          tap_action:
                            action: call-service
                            service: input_boolean.toggle
                            service_data:
                              entity_id: input_boolean.kitchen_mp
                          hide:
                            controls: true
                            icon: false
                            info: true
                            power: true
                            progress: true
                            state_label: false
                            volume_level: false
                          entity: media_player.kitchen_speaker
                        - type: custom:mini-media-player
                          group: true
                          min_volume: 5
                          max_volume: 75
                          name: Family Room
                          tap_action:
                            action: call-service
                            service: input_boolean.toggle
                            service_data:
                              entity_id: input_boolean.familyroom_mp
                          hide:
                            controls: true
                            icon: false
                            info: true
                            power: true
                            progress: true
                            state_label: false
                            volume_level: false
                          entity: media_player.family_room_speaker_cast
                        - type: custom:mini-media-player
                          entity: media_player.front_living_room
                          group: true
                          min_volume: 5
                          max_volume: 75
                          name: Front Room
                          tap_action:
                            action: call-service
                            service: input_boolean.toggle
                            service_data:
                              entity_id: input_boolean.frontroom_mp
                          hide:
                            controls: true
                            icon: false
                            info: true
                            power: true
                            progress: true
                            state_label: false
                            volume_level: false
                        - type: custom:mini-media-player
                          name: Living Rooms
                          group: true
                          min_volume: 5
                          max_volume: 75
                          tap_action:
                            action: call-service
                            service: input_boolean.toggle
                            service_data:
                              entity_id: input_boolean.livingrooms_gp
                          hide:
                            controls: true
                            icon: false
                            info: true
                            power: true
                            progress: true
                            state_label: false
                            volume_level: false
                          entity: media_player.living_rooms
                        - type: custom:mini-media-player
                          entity: media_player.entry
                          group: true
                          min_volume: 5
                          max_volume: 75
                          name: Entry
                          tap_action:
                            action: call-service
                            service: input_boolean.toggle
                            service_data:
                              entity_id: input_boolean.entry_gp
                          hide:
                            controls: true
                            icon: false
                            info: true
                            power: true
                            progress: true
                            state_label: false
                            volume_level: false
                    deviceID:
                      - this
                      - dashboard
                    style:
                      $: >
                        .mdc-dialog .mdc-dialog__container .mdc-dialog__surface
                        {
                          border-radius: 0px;
                        }
                      .: |
                        :host {
                          --mdc-theme-surface: rgba(0,0,0,0.8);
                          --secondary-background-color: rgba(69,90,100,1);
                          --ha-card-background: rgba(0,0,0,0.5);
                        }
                        :host .content {
                          width: 90vw;
                          height: 95vh;
                         }
          - type: picture-glance
            entities: []
            camera_image: camera.album_art
            tap_action:
              action: none
            hold_action:
              action: none
            card_mod:
              style: |
                ha-card {
                  width: 98%;
                  margin: auto;
                  border-radius: 0;
                  position: relative;
                }
                .box {
                  background: rgba(255,255,255,0) !important;
                }
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card {
                  background: rgba(255, 255, 255, 0.0);
                  border-radius: 0;
                  box-shadow: none;
                  position: relative;
                  top: -10px;
                 }
            card:
              type: custom:html-template-card
              ignore_line_breaks: true
              content: |
                <style>
                  .title {
                    display: block;
                    font-weight: 500;
                    font-size: 1.2em;
                    text-align: center;
                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis; !important;
                  }
                  .artist {
                    display: block;
                    text-align: center;     
                  }
                </style>
                <div style="">
                {% if state_attr("media_player.multi_room_controller", "media_playlist") -%}
                  <h3>{{ state_attr('media_player.multi_room_controller', 'media_playlist') }}</h3>
                  <span class="title">{{ state_attr('multi_room_controller', 'media_title') }}</br></span>
                  {% if state_attr("media_player.multi_room_controller", "media_artist") -%}
                    <span class="artist">{{ state_attr('media_player.multi_room_controller', 'media_artist') }}</span>
                  {%- else -%}
                    <center>&nbsp;</center>
                  {%- endif %}
                {%- else -%}
                  <h3>&nbsp;</h3>
                  <span class="title">&nbsp;</br></span>
                  <span class="artist">&nbsp;</span>    
                {%- endif %}
                </div>
          - type: custom:mini-media-player
            entity: media_player.multi_room_controller
            toggle_power: true
            artwork: none
            source: full
            name: Music Stream
            group: true
            scale: "1.25"
            info: scroll
            hide:
              info: true
              icon: true
              name: true
              runtime: true
              volume: true
              power: false
              controls: true
              progress: true
            style: |
              ha-card {
                float:right;
                position: relative;
                top: -140px;
              }
          - type: custom:mini-media-player
            entity: media_player.multi_room_controller
            toggle_power: true
            artwork: none
            source: full
            name: Music Stream
            info: scroll
            group: true
            scale: "1.25"
            hide:
              info: true
              icon: true
              name: true
              runtime: false
              volume: true
              power: true
              source: true
              controls: true
            card_mod:
              style: |
                ha-card {
                  width: 93%;
                  margin: auto;
                  position: relative;
                  top: -100px;
                }
          - type: custom:mini-media-player
            entity: media_player.multi_room_controller
            toggle_power: true
            artwork: none
            source: full
            name: Music Stream
            info: scroll
            group: true
            scale: "1.25"
            hide:
              info: true
              icon: true
              name: true
              volume: true
              power: true
              source: true
              progress: true
              play_pause: true
              play_stop: false
            card_mod:
              style: |
                ha-card {
                  margin-left: auto;
                  position: relative;
                  top: -100px;
                }
  - !include views/view_camera.yaml
  - !include views/view_server.yaml
  - !include views/view_remotes.yaml
  - !include views/view_sensors.yaml
  - !include views/view_media.yaml
