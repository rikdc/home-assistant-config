popup_batteries:
  card:
    type: custom:auto-entities
    filter:
      include:
        - entity_id: "*_battery_level*"
      exclude:
        - not:
            domain: sensor
            state: < 20
        - entity_id: "*iPhone*"
        - entity_id: "*hd190*"
        - entity_id: "sensor.multisensor_battery_level_2"
    card:
      type: custom:apexcharts-card
      graph_span: 4d
      span:
        end: day
      header:
        title: ""
        show: true
        show_states: true
        colorize_states: false
      style: |
        ha-card {
          --ha-card-background: rgba(0, 0, 0, 0);
          box-shadow: none;
          margin: 8px 8px 38px 8px;
          font-size: 15px;
          font-family: 'Segoe UI Light";
          text-align: center
        }
        div#header__title {
          font-size: 20px;
          font-weight: 300;
          font-family: 'Segoe UI Light";
          font-color: #ff0000
        }
      all_series_config:
        stroke_width: 2
      apex_config:
        annotations:
          position: back
          yaxis:
            - "y": 0
              strokeDashArray: 5
              borderColor: "#5b5b5b"
              borderWidth: 1
          #     xaxis:
          #       labels:
          #         format: HH
          #       axisBorder:
          #         show: false
          #     legend:
          #       show: false
        grid:
          show: false
        # fill:
        #   type: gradient
        #   gradient:
        #     type: vertical
        #     shadeIntensity: 0.4
        #     opacityFrom: 0.9
        #     opacityTo: 0
        #     stops:
        #       - 1
        #       - 95
        #       - 100
        chart:
          dropshadow:
            enabled: true
          height: 300px
          width: 100%
      # experimental:
      #   color_threshold: true
      series:
        - entity: sensor.upper_office_multisensor_temperature
          type: line
          name: Office2

        - entity: sensor.multisensor_bathroom_air_temperature
          type: line
          name: Bathroom1

        - entity: sensor.multisensor_kitchen1_air_temperature
          type: line
          name: Kitchen1

        - entity: sensor.multisensor_bedroom1_air_temperature
          type: line
          name: Bedroom1

        - entity: sensor.multisensor_frontroom_air_temperature
          type: line
          name: Frontroom

  # cards:
  #   - type: "custom:mini-graph-card"
  #     cardOptions:
  #       entities:
  #         - sensor.backdoor_lock_battery_level
  #       show: ""
  #       labels: false
  #       color_thresholds:
  #         - value: 100
  #           color: "#008000"
  #         - value: 80
  #           color: "#3CB371"
  #         - value: 60
  #           color: "#FFD700"
  #         - value: 40
  #           color: "#FFA500"
  #         - value: 20
  #           color: "#FF7F50"
  #         - value: 0
  #           color: "#FF4500"
  #       animate: true
  #       hours_to_show: 24
  #       points_per_hour: 2
  #       update_interval: 300
  #       line_color: var(--accent-color)
  #       line_width: 8
  #       font_size: 50
  #       aggregate_func: max
  #     noPadding: true
  #     higher: true
  #     higherSize: 1
  #     wider: true
  #     widerSize: 2
